<p-card>
  <p-tabMenu [style]="{'marginBottom':'1em'}" [model]="items" >
    <ng-template pTemplate="item" let-item let-i="index">
      {{item.label}}
    </ng-template>
  </p-tabMenu>
  <p-table [value]="currentReports" dataKey="id" [paginator]="true" [rows]="5" [rowsPerPageOptions]="[1,2,5,10]"
           selectionMode="single" [(selection)]="selectedReport">
    <ng-template pTemplate="body" let-report let-expanded="expanded">
      <tr [pRowToggler]="selectedReport" class="w-100">
        <div style="padding: 0.3em;position: relative;" [pRowToggler]="selectedReport" [pSelectableRow]="report">
          <td style="width: 150px">
            <h6 ><i class="pi pi-user"></i> {{report.username}}</h6>
          </td>
          <td style="width: 150px" >
            <p ><i class="pi pi-phone"></i> {{report.phone}} </p>
          </td>
          <td style="width: 100px"><a  [routerLink]="['']" fragment="map" [queryParams]="{binId: report.bin}">
            <i class="pi pi-trash"></i> {{report.bin}}</a>
          </td>
          <td style="width: 100px">
            <p>{{report.date}}</p>
          </td>
          <td><i style="position: absolute;right:5px;bottom: 20px" [class]="selectedReport?.id == report.id ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i></td>
        </div>
      </tr>
    </ng-template>
    <ng-template pTemplate="rowexpansion" let-report>
      <div class="report-content d-flex flex-column m-2 mb-5" >
        <p style="font-weight:bold ">{{report.title}}</p>
        <p>{{report.body}}</p>
        <div *ngIf="report.image" lightbox-group  style="text-align: center">
          <img src="{{report.image}}}"  width="40%" height="350px" style="min-width: 200px" lightbox/>
        </div>
      </div>
    </ng-template>
  </p-table>
</p-card>


